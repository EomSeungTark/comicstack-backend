{"ast":null,"code":"import _slicedToArray from\"/Users/sa/dev/git/comicstack-backend/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/sa/dev/git/comicstack-backend/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import{useEffect,useState}from\"react\";import{useHistory}from'react-router-dom';import styled from\"styled-components\";import Logo from\"../image/logo.svg\";import{Input,FormControl,FormLabel,Text,Button,InputRightElement,InputGroup}from\"@chakra-ui/react\";import{signinUser,idCheck,useStateUser,useDispatchUser}from\"contextAPI/user\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  min-width: 410px;\\n  height: 100%;\\n  margin: 0 auto;\\n  background-color: white;\\n  margin-bottom: 100px;\\n\"])));var FormWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 70%;\\n  margin: 0 auto;\\n\"])));var Title=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  height: 50px;\\n  line-height: 50px;\\n  font-size: 25px;\\n\"])));export default function RegisterForm(){var userInfoState=useStateUser();var userInfoDispatch=useDispatchUser();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userPhone=_useState4[0],setUserPhone=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userId=_useState6[0],setUserId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userPassword=_useState8[0],setUserPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),userPasswordCheck=_useState10[0],setUserPasswordCheck=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userEmail=_useState12[0],setUserEmail=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),userAddress=_useState14[0],setUserAddress=_useState14[1];var history=useHistory();var handleIdCheck=function handleIdCheck(){idCheck(userInfoDispatch,userId);};useEffect(function(){console.log(\"idchek\",userInfoState.idCheck);if(userInfoState.idCheckLoading){if(userInfoState.idCheck===true){alert(\"사용가능합니다.\");}else{alert(\"다른 아이디를 사용해주세요\");}}},[userInfoState.idCheck]);var handleSubmit=function handleSubmit(){// if(userName === \"\"){\n// \talert(\"name 입력\");\n// \treturn null;\n// }\n// if(userId === \"\"){\n// \talert(\"Id 입력\");\n// \treturn null;\n// }\n// if(userPassword === \"\"){\n// \talert(\"password 입력\");\n// \treturn null;\n// }\n// if(userPasswordCheck === \"\"){\n// \talert(\"password check 입력\");\n// \treturn null;\n// }\n// if(userPhone=== \"\"){\n// \talert(\"Phone 입력\");\n// \treturn null;\n// }\n// if(userAddress === \"\"){\n// \talert(\"address 입력\");\n// \treturn null;\n// }\n// if(userEmail === \"\"){\n// \talert(\"email 입력\");\n// \treturn null;\n// }\nif(!!userInfoState.idCheck===false){alert(\"아이디 중복을 확인해주세요\");return null;}var userInfo={user_id:userId,password:userPassword,address:userAddress,phone_number:userPhone,persnal_basic_agree:false,persnal_share_agree:false,email:userEmail,sms_agree:false,email_agree:false,name:userName};if(userInfoState.idCheck){signinUser(userInfoDispatch,userInfo).then(function(result){if(result.status){alert(\"회원가입 축하드립니다.\");history.push(\"/\");}});}};// console.log(\"??\", userId)\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"img\",{width:\"200px\",height:\"100px\",style:{margin:\"0 auto 20px auto\",paddingTop:\"10px\"},src:Logo,alt:\"logoImage\"}),/*#__PURE__*/_jsx(Title,{children:/*#__PURE__*/_jsx(Text,{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsxs(FormWrapper,{children:[/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Name\"}),/*#__PURE__*/_jsx(Input,{className:\"input-margin-bottom\",placeholder:\"name\",onChange:function onChange(e){return setUserName(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"ID\"}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Input,{className:\"input-margin-bottom\",placeholder:\"id\",onChange:function onChange(e){return setUserId(e.target.value);}}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleIdCheck();},children:\"\\uC911\\uBCF5\\uD655\\uC778\"})]})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsx(Input,{className:\"input-margin-bottom\",placeholder:\"password\",type:\"password\",onChange:function onChange(e){return setUserPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password check\"}),/*#__PURE__*/_jsx(Input,{className:\"input-margin-bottom\",placeholder:\"password check\",type:\"password\",onChange:function onChange(e){return setUserPasswordCheck(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Phone\"}),/*#__PURE__*/_jsx(Input,{className:\"input-margin-bottom\",placeholder:\"phone\",onChange:function onChange(e){return setUserPhone(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Address\"}),/*#__PURE__*/_jsx(Input,{className:\"input-margin-bottom\",placeholder:\"Address\",onChange:function onChange(e){return setUserAddress(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"E-mail\"}),/*#__PURE__*/_jsx(Input,{className:\"input-margin-bottom\",placeholder:\"e-mail\",onChange:function onChange(e){return setUserEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,children:\"\\uAC00\\uC785\"})]})]})});}","map":{"version":3,"sources":["/Users/sa/dev/git/comicstack-backend/webapp/src/components/registerForm.js"],"names":["useEffect","useState","useHistory","styled","Input","FormControl","FormLabel","Text","Button","InputRightElement","InputGroup","signinUser","idCheck","useStateUser","useDispatchUser","Wrapper","div","FormWrapper","Title","RegisterForm","userInfoState","userInfoDispatch","userName","setUserName","userPhone","setUserPhone","userId","setUserId","userPassword","setUserPassword","userPasswordCheck","setUserPasswordCheck","userEmail","setUserEmail","userAddress","setUserAddress","history","handleIdCheck","console","log","idCheckLoading","alert","handleSubmit","userInfo","user_id","password","address","phone_number","persnal_basic_agree","persnal_share_agree","email","sms_agree","email_agree","name","then","result","status","push","margin","paddingTop","Logo","e","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useHistory } from 'react-router-dom'\nimport styled from \"styled-components\";\nimport Logo from \"../image/logo.svg\";\nimport {\n  Input,\n  FormControl,\n  FormLabel,\n  Text,\n  Button,\n  InputRightElement,\n  InputGroup,\n} from \"@chakra-ui/react\";\nimport {\n  signinUser,\n  idCheck,\n  useStateUser,\n  useDispatchUser,\n} from \"contextAPI/user\";\n\nconst Wrapper = styled.div`\n  width: 50%;\n  min-width: 410px;\n  height: 100%;\n  margin: 0 auto;\n  background-color: white;\n  margin-bottom: 100px;\n`;\n\nconst FormWrapper = styled.div`\n  width: 70%;\n  margin: 0 auto;\n`;\n\nconst Title = styled.div`\n  text-align: center;\n  height: 50px;\n  line-height: 50px;\n  font-size: 25px;\n`;\n\nexport default function RegisterForm() {\n  const userInfoState = useStateUser();\n  const userInfoDispatch = useDispatchUser();\n\n  const [userName, setUserName] = useState(\"\");\n  const [userPhone, setUserPhone] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n  const [userPasswordCheck, setUserPasswordCheck] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userAddress, setUserAddress] = useState(\"\");\n\n  const history = useHistory();\n\n  const handleIdCheck = () => {\n    idCheck(userInfoDispatch, userId);\n  };\n\n  useEffect(() => {\n    console.log(\"idchek\", userInfoState.idCheck)\n    if(userInfoState.idCheckLoading){\n      if(userInfoState.idCheck === true){\n        alert(\"사용가능합니다.\");\n      } else {\n        alert(\"다른 아이디를 사용해주세요\");\n      }\n    }\n  }, [userInfoState.idCheck])\n\n  const handleSubmit = () => {\n    // if(userName === \"\"){\n    // \talert(\"name 입력\");\n    // \treturn null;\n    // }\n    // if(userId === \"\"){\n    // \talert(\"Id 입력\");\n    // \treturn null;\n    // }\n    // if(userPassword === \"\"){\n    // \talert(\"password 입력\");\n    // \treturn null;\n    // }\n    // if(userPasswordCheck === \"\"){\n    // \talert(\"password check 입력\");\n    // \treturn null;\n    // }\n    // if(userPhone=== \"\"){\n    // \talert(\"Phone 입력\");\n    // \treturn null;\n    // }\n    // if(userAddress === \"\"){\n    // \talert(\"address 입력\");\n    // \treturn null;\n    // }\n    // if(userEmail === \"\"){\n    // \talert(\"email 입력\");\n    // \treturn null;\n    // }\n    if(!!userInfoState.idCheck === false){\n      alert(\"아이디 중복을 확인해주세요\");\n      return null;\n    }\n    const userInfo = {\n      user_id: userId,\n      password: userPassword,\n      address: userAddress,\n      phone_number: userPhone,\n      persnal_basic_agree: false,\n      persnal_share_agree: false,\n      email: userEmail,\n      sms_agree: false,\n      email_agree: false,\n      name: userName,\n    };\n    if (userInfoState.idCheck) {\n      signinUser(userInfoDispatch, userInfo)\n      .then((result) => {\n        if(result.status){\n          alert(\"회원가입 축하드립니다.\")\n          history.push(\"/\")\n        }\n      });\n    }\n  };\n\n  // console.log(\"??\", userId)\n\n  return (\n    <>\n      <Wrapper>\n        <img\n          width=\"200px\"\n          height=\"100px\"\n          style={{ margin: \"0 auto 20px auto\", paddingTop: \"10px\" }}\n          src={Logo}\n          alt=\"logoImage\"\n        />\n        <Title>\n          <Text>회원가입</Text>\n        </Title>\n        <FormWrapper>\n          <FormControl isRequired>\n            <FormLabel>Name</FormLabel>\n            <Input\n              className={\"input-margin-bottom\"}\n              placeholder={\"name\"}\n              onChange={(e) => setUserName(e.target.value)}\n            />\n          </FormControl>\n          <FormControl isRequired>\n            <FormLabel>ID</FormLabel>\n            <InputGroup>\n              <Input\n                className={\"input-margin-bottom\"}\n                placeholder={\"id\"}\n                onChange={(e) => setUserId(e.target.value)}\n              />\n              <Button onClick={() => handleIdCheck()}>중복확인</Button>\n            </InputGroup>\n          </FormControl>\n          <FormControl isRequired>\n            <FormLabel>Password</FormLabel>\n            <Input\n              className={\"input-margin-bottom\"}\n              placeholder={\"password\"}\n              type={\"password\"}\n              onChange={(e) => setUserPassword(e.target.value)}\n            />\n          </FormControl>\n          <FormControl isRequired>\n            <FormLabel>Password check</FormLabel>\n            <Input\n              className={\"input-margin-bottom\"}\n              placeholder={\"password check\"}\n              type={\"password\"}\n              onChange={(e) => setUserPasswordCheck(e.target.value)}\n            />\n          </FormControl>\n          <FormControl isRequired>\n            <FormLabel>Phone</FormLabel>\n            <Input\n              className={\"input-margin-bottom\"}\n              placeholder={\"phone\"}\n              onChange={(e) => setUserPhone(e.target.value)}\n            />\n          </FormControl>\n          <FormControl isRequired>\n            <FormLabel>Address</FormLabel>\n            <Input\n              className={\"input-margin-bottom\"}\n              placeholder={\"Address\"}\n              onChange={(e) => setUserAddress(e.target.value)}\n            />\n          </FormControl>\n          <FormControl isRequired>\n            <FormLabel>E-mail</FormLabel>\n            <Input\n              className={\"input-margin-bottom\"}\n              placeholder={\"e-mail\"}\n              onChange={(e) => setUserEmail(e.target.value)}\n            />\n          </FormControl>\n          <Button onClick={handleSubmit}>가입</Button>\n        </FormWrapper>\n      </Wrapper>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}